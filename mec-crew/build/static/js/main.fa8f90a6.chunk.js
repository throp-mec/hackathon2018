(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(75)},36:function(e,t,a){},38:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(26),c=a.n(r),i=(a(36),a(6)),l=a(7),o=a(10),u=a(8),m=a(9),p=a(3),h=(a(38),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("header",null,s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"logo-title"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60","aria-labelledby":"mec-logo-title",role:"img"},s.a.createElement("title",{id:"mec-logo-title"},"MEC"),s.a.createElement("path",{d:"M0 0v60h60V0H0z M24.6 40.8H21V24.7l-0.9 4.9l-2.3 11.2h-3.5l-2.2-11.3l-0.7-4.8v16.1H7.2V18.6h5.9 l2.3 11.3l0.7 4.1l0.7-4.1l2.3-11.3h5.5V40.8z M38.4 22.2h-6.6v5.4h5.4v3.6h-5.4v6h6.6v3.6H27.6V18.6h10.8V22.2z M52.8 26.4h-3.6 v-2.5c0-1.3-0.6-2.2-2.1-2.2S45 22.6 45 23.9v11.7c0 1.3 0.6 2.2 2.1 2.2s2.1-0.9 2.1-2.2V33h3.6v2.5c0 3.4-1.9 5.8-5.8 5.8 s-6.2-2.6-6.2-6.1v-11c0-3.4 2.2-6.1 6.2-6.1s5.8 2.5 5.8 5.8V26.4z"})),s.a.createElement("p",null,s.a.createElement("span",{className:"h1span"},"crew"))),s.a.createElement("p",null,"Save the details of you friends, family or dog and know your always buying the right thing")))}}]),t}(n.Component)),d=a(77),b=a(16),v=a.n(b),f=v.a.initializeApp({apiKey:"AIzaSyBe855D_ybDKjiFgGLjrtgx72I-3uk4Gkc",authDomain:"mec-crew.firebaseapp.com",databaseURL:"https://mec-crew.firebaseio.com",projectId:"mec-crew",storageBucket:"mec-crew.appspot.com",messagingSenderId:"1032977291296"}),g=new v.a.auth.GoogleAuthProvider,E=v.a.auth(),N=f,j=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).personRef=s.a.createRef(),e.state={className:"hidden",label:"Details"},e.removeItem=e.removeItem.bind(Object(p.a)(Object(p.a)(e))),e.removeProduct=e.removeProduct.bind(Object(p.a)(Object(p.a)(e))),e.showDetails=e.showDetails.bind(Object(p.a)(Object(p.a)(e))),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"removeItem",value:function(e){N.database().ref("/people/".concat(e)).remove()}},{key:"removeProduct",value:function(e,t){console.log(e),console.log(t),console.log(this.props.people)}},{key:"showDetails",value:function(){"hidden"===this.state.className?this.setState({className:"show",label:"Hide"}):this.setState({className:"hidden",label:"Details"})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"wrapper"},s.a.createElement("section",{className:"display-item"},s.a.createElement("div",{className:"wrapper"},s.a.createElement("ul",{className:"person-ul"},this.props.people.map(function(t){if(e.props.user.email===t.user){var a="";void 0!==t.products&&(a=t.products);var n=Object.values(a);return s.a.createElement("li",{key:t.id,ref:e.personRef,className:"person"},s.a.createElement("div",{className:"person-title"},s.a.createElement("h3",null,s.a.createElement("i",{className:"far fa-user-circle"})," ",t.person),s.a.createElement("div",{className:"person-buttons"},s.a.createElement("button",{className:"person-show-details",onClick:function(){return e.showDetails(t.id)}},e.state.label," ",s.a.createElement("i",{className:"fas fa-angle-double-down"})," "),s.a.createElement("button",{className:"person-remove",onClick:function(){return e.removeItem(t.id)}},s.a.createElement("i",{className:"far fa-times-circle fa-2x"})))),s.a.createElement("div",{className:e.state.className},s.a.createElement("div",{className:"person-details"},t.tshirtSize&&s.a.createElement("p",null,"Tshirt: ",t.tshirtSize),t.jacketSize&&s.a.createElement("p",null,"Jacket: ",t.jacketSize),t.pantLeg&&s.a.createElement("p",null,"Pant Leg: ",t.pantLeg),t.pantWaist&&s.a.createElement("p",null,"Pant Waist: ",t.pantWaist),t.shoeSize&&s.a.createElement("p",null,"Shoe Size: ",t.shoeSize),t.notes&&s.a.createElement("p",null,"Notes: ",t.notes)),s.a.createElement("h4",{className:"person-products-title"},"Products for ",t.person),s.a.createElement("div",{className:"person-products"},n.map(function(t,a){var n=t.product.web_url,r="";return r=t.product.list_price_range?t.product.list_price_range.from.amount:t.product.list_price.amount,s.a.createElement("div",{key:t.product.product_code,className:"person-product-tile"},s.a.createElement("img",{className:"person-product-image",alt:"",src:t.product.default_image_urls.small_image_url}),s.a.createElement("div",{className:"person-product-desc"},s.a.createElement("p",null,t.product.name," by ",t.product.brand)),s.a.createElement("h5",{className:"person-product-price"},"$",r),s.a.createElement("div",{className:"person-product-buttons"},s.a.createElement("button",{className:"person-product-del-btn",onClick:function(){return e.removeProduct(t,a)}},s.a.createElement("i",{className:"fas fa-times fa-2x"})),s.a.createElement("button",{className:"person-product-btn",onClick:function(){return window.open(n,"_blank")}},s.a.createElement("i",{className:"fas fa-shopping-cart fa-2x"}))))})),s.a.createElement(d.a,{to:"/search"},s.a.createElement("h3",{className:"person-shopfor"},"Shop for ",t.person))))}})))))}}]),t}(n.Component),S=a(27),y=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={personName:"",tshirtSize:"",jacketSize:"",pantLeg:"",pantWaist:"",shoeSize:"",notes:"",items:[],user:"",initRedirect:!1},e.handleChange=e.handleChange.bind(Object(p.a)(Object(p.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(p.a)(Object(p.a)(e))),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=N.database().ref("people"),a={person:this.state.personName,tshirtSize:this.state.tshirtSize,jacketSize:this.state.jacketSize,pantLeg:this.state.pantLeg,pantWaist:this.state.pantWaist,shoeSize:this.state.shoeSize,notes:this.state.notes,user:this.props.user.email};alert(this.state.personName+' Added! Find them in "Crew"'),t.push(a),this.setState({personName:"",tshirtSize:"",jacketSize:"",pantLeg:"",pantWaist:"",shoeSize:"",notes:"",user:""})}},{key:"render",value:function(){return s.a.createElement("section",{className:"add-item"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{required:!0,type:"text",name:"personName",placeholder:"What's their name?",onChange:this.handleChange,value:this.state.personName}),s.a.createElement("input",{type:"text",name:"tshirtSize",placeholder:"Tshirt Size",onChange:this.handleChange,value:this.state.tshirtSize}),s.a.createElement("input",{type:"text",name:"jacketSize",placeholder:"Jacket Size",onChange:this.handleChange,value:this.state.jacketSize}),s.a.createElement("input",{type:"text",name:"pantLeg",placeholder:"Pant Leg",onChange:this.handleChange,value:this.state.pantLeg}),s.a.createElement("input",{type:"text",name:"pantWaist",placeholder:"Waist Size",onChange:this.handleChange,value:this.state.pantWaist}),s.a.createElement("input",{type:"text",name:"shoeSize",placeholder:"Whats their shoe size?",onChange:this.handleChange,value:this.state.shoeSize}),s.a.createElement("input",{type:"text",name:"notes",placeholder:"Notes",onChange:this.handleChange,value:this.state.notes}),s.a.createElement("button",{className:"person-add"},"Add")))}}]),t}(n.Component),k=a(28),O=a.n(k),w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={currentUser:""},e.addProduct=e.addProduct.bind(Object(p.a)(Object(p.a)(e))),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"addProduct",value:function(e,t){N.database().ref("/people/"+t.id+"/products/").push({product:e}),alert(e.name+" added to "+t.person+"'s list!")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"product-tile"},s.a.createElement("div",{className:"product-info"},s.a.createElement("p",{key:this.props.item.product_code},this.props.item.brand," ",this.props.item.name),s.a.createElement("img",{className:"product-img",alt:this.props.item.name,src:this.props.item.default_image_urls.main_image_url})),s.a.createElement("div",{className:"add-person-wrapper"},s.a.createElement("h4",null,"Add to someones product list"),this.props.people.map(function(t){if(e.props.user.email===t.user)return s.a.createElement("button",{class:"add-product-person-btn",key:t.person,value:t.person,onClick:function(){return e.addProduct(e.props.item,t)}},t.person)})))}}]),t}(n.Component),z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={searchQuery:"",products:[],searching:!1},e.updateSearchQuery=e.updateSearchQuery.bind(Object(p.a)(Object(p.a)(e))),e.submitForm=e.submitForm.bind(Object(p.a)(Object(p.a)(e))),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"updateSearchQuery",value:function(e){this.setState({searchQuery:e})}},{key:"submitForm",value:function(e){e.preventDefault(),this.setState({searching:!0}),this.fetchData(this.state.searchQuery)}},{key:"fetchData",value:function(e){var t=this;O.a.get("https://cors-anywhere.herokuapp.com/https://www.mec.ca/api/v1/products/search?keywords="+e).then(function(e){t.setState({products:e.data.products,searching:!1})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"search-wrapper"},s.a.createElement("h3",{className:"search-title"},"Find things they might like"),s.a.createElement("form",{onSubmit:this.submitForm},s.a.createElement("input",{className:"search-products",type:"text",placeholder:"Tents, Shoes...",name:"product",onChange:function(t){e.updateSearchQuery(t.target.value)}}),!0===this.state.searching&&s.a.createElement("i",{class:"fas fa-spinner fa-3x fa-spin"}),s.a.createElement("button",{className:"search-button",type:"submit"},"Search")),s.a.createElement("div",{className:"product-wrapper"},this.state.products!==[]&&this.state.products.map(function(t){return s.a.createElement(w,{key:t.product_code,item:t,user:e.props.user,people:e.props.people})})))}}]),t}(n.Component),C=a(79),x=a(78),L=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={personName:"",tshirtSize:"",jacketSize:"",pantLeg:"",pantWaist:"",shoeSize:"",notes:"",products:"",items:[],user:null},e.login=e.login.bind(Object(p.a)(Object(p.a)(e))),e.logout=e.logout.bind(Object(p.a)(Object(p.a)(e))),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.onAuthStateChanged(function(t){t&&e.setState({user:t})}),N.database().ref("people").on("value",function(t){var a=t.val(),n=[];for(var s in a)n.push({id:s,person:a[s].person,tshirtSize:a[s].tshirtSize,jacketSize:a[s].jacketSize,pantLeg:a[s].pantLeg,pantWaist:a[s].pantWaist,shoeSize:a[s].shoeSize,notes:a[s].notes,products:a[s].products,user:a[s].user});e.setState({items:n})})}},{key:"logout",value:function(){var e=this;E.signOut().then(function(){e.setState({user:null})})}},{key:"login",value:function(){var e=this;E.signInWithPopup(g).then(function(t){var a=t.user;e.setState({user:a})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"app-container"},s.a.createElement(h,{user:this.state.user}),this.state.user?s.a.createElement("div",{className:"content-wrapper"},s.a.createElement(C.a,null,s.a.createElement("div",null,s.a.createElement("ul",{className:"menu-ul"},s.a.createElement("li",{className:"menu-li"},s.a.createElement(d.a,{to:"/"},"Crew ",s.a.createElement("i",{className:"fas fa-users"}))),s.a.createElement("li",{className:"menu-li"},s.a.createElement(d.a,{to:"/new"},"Add ",s.a.createElement("i",{className:"fas fa-user-plus"}))),s.a.createElement("li",{className:"menu-li"},s.a.createElement(d.a,{to:"/search"},"Search ",s.a.createElement("i",{className:"fas fa-search"})))),s.a.createElement(x.a,{exact:!0,path:"/",render:function(t){return s.a.createElement(j,Object.assign({},t,{people:e.state.items,user:e.state.user}))}}),s.a.createElement(x.a,{exact:!0,path:"/new",render:function(t){return s.a.createElement(y,Object.assign({},t,{user:e.state.user}))}}),s.a.createElement(x.a,{exact:!0,path:"/search",render:function(t){return s.a.createElement(z,Object.assign({},t,{user:e.state.user,people:e.state.items}))}})))):s.a.createElement("div",{className:"wrapper"},s.a.createElement("h4",{className:"login-message"},"Hey, we need to get to know you a little better. Please login...")),this.state.user&&s.a.createElement("div",null,s.a.createElement("div",{className:"user-profile"},s.a.createElement("img",{alt:"",src:this.state.user.photoURL})),s.a.createElement("h4",{className:"logged-in-as"},"Logged in as ",this.state.user.displayName||this.state.user.email)),this.state.user?s.a.createElement("button",{className:"btn-loginout",onClick:this.logout},"Logout"):s.a.createElement("button",{className:"btn-loginout",onClick:this.login},"Login")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.fa8f90a6.chunk.js.map